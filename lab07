Zadanie 1.
1.

2.
select nazwa from kreatura
where idKreatury not in (select id_uczestnika from uczestnicy);

3.
SELECT w.nazwa,sum(e.ilosc) FROM wyprawa w 
inner join uczestnicy u ON w.id_wyprawy = u.id_wyprawy
Inner join ekwipunek e on u.id_uczestnika = e.idKreatury
GROUP BY w.id_wyprawy;

Zadanie 2.
1.
select w.nazwa,count(u.id_uczestnika),group_concat(k.nazwa) from wyprawa w 
inner join uczestnicy u ON w.id_wyprawy = u.id_wyprawy
inner join kreatura k on u.id_uczestnika = k.idKreatury
group by w.id_wyprawy;
2.
Select ew.idEtapu, s.nazwa,ew.kolejnosc, k.nazwa as kierownik From kreatura k
inner join wyprawa w on k.idKreatury = w.kierownik
inner join etapy_wyprawy ew on w.id_wyprawy = ew.idWyprawy
inner join sektor s on s.id_sektora = ew.sektor
order by w.data_rozpoczecia, ew.kolejnosc
;

Zadanie 3.
1.
select s.nazwa, ifnull(count(ew.sektor),'0') as ilosc from etapy_wyprawy ew
right join sektor s on s.id_sektora = ew.sektor
group by s.nazwa;

2.
select k.nazwa, if(count(id_wyprawy) =0,'nie brala','brala') from kreatura k
left join uczestnicy u on k.idKreatury = u.id_uczestnika
group by k.nazwa;

Zadanie 4.
1.




NOTATKI
----------------------------------------------
SELECT * FROM kreatura k inner join uczestnicy u on k.idKreatury=u.id_uczestnika 
WHERE (select distinct id_uczestnika from uczestnicy where id_wyprawy is not null);

SELECT * FROM kreatura k
INNER JOIN uczestnicy u ON k.idKreatury=u.id_uczestnika;

SELECT DISTINCT id_uczestnika from uczestnicy;

select * from kreatura k left join uczestnicy u on k.idKreatury=u.id_uczestnika
where u.id_wyprawy is null;

select rodzaj, count(*) from kreatura group by rodzaj;
select rodzaj, group_concat(nazwa separator '-') from kreatura group by rodzaj;

select k.idKreatury, ifnull(e.idKreatury, 'Brak wlasciciela') from ekwipunek e
left join kreatura k on k.idKreatury=e.idKreatury;
